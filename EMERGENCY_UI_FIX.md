# ğŸš¨ ç´§æ€¥UIä¿®å¤è¯´æ˜

## âš ï¸ ä¸¥é‡é—®é¢˜ç¡®è®¤

**SillyTavernä¸»ç•Œé¢æ•´ä¸ªUIæ¶ˆå¤±äº†ï¼**

æˆ‘å·²ç»ç«‹å³è¿›è¡Œäº†ç´§æ€¥ä¿®å¤ï¼

## ğŸ” é—®é¢˜åŸå› 

åœ¨æ ·å¼éš”ç¦»ä»£ç ä¸­ï¼Œæˆ‘æ·»åŠ äº†ä¸€ä¸ª**æå…¶å±é™©**çš„CSSè§„åˆ™ï¼š

```css
body > div:not([id*="virtual-pet"]):not([class*="virtual-pet"]) {
    position: relative !important;
}
```

è¿™ä¸ªè§„åˆ™å¼ºåˆ¶å°†**æ‰€æœ‰éè™šæ‹Ÿå® ç‰©çš„divå…ƒç´ **è®¾ç½®ä¸º`position: relative !important`ï¼Œå®Œå…¨ç ´åäº†SillyTavernçš„å¸ƒå±€ç³»ç»Ÿï¼

## âœ… å·²å®æ–½çš„ç´§æ€¥ä¿®å¤

### 1. **ç§»é™¤å±é™©çš„CSSè§„åˆ™**
å·²å®Œå…¨ç§»é™¤å½±å“å…¨å±€å¸ƒå±€çš„æ ·å¼è§„åˆ™ã€‚

### 2. **å®‰å…¨çš„æ ·å¼éš”ç¦»**
```css
/* æ–°çš„å®‰å…¨æ ·å¼éš”ç¦» - åªå½±å“è™šæ‹Ÿå® ç‰©å…ƒç´  */
#virtual-pet-floating-button {
    font-family: inherit !important;
    line-height: normal !important;
    box-sizing: border-box !important;
}

#virtual-pet-popup, #virtual-pet-overlay {
    font-family: inherit !important;
    line-height: normal !important;
    box-sizing: border-box !important;
}

/* åªå½±å“è™šæ‹Ÿå® ç‰©å®¹å™¨ */
.virtual-pet-container,
.virtual-pet-container * {
    box-sizing: border-box !important;
}
```

### 3. **ç´§æ€¥ä¿®å¤å‡½æ•°**
æ·»åŠ äº†å…¨å±€ç´§æ€¥ä¿®å¤å‡½æ•°ï¼š
```javascript
window.emergencyFixSillyTavernUI()
```

### 4. **è‡ªåŠ¨æ£€æµ‹å’Œä¿®å¤**
ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹UIé—®é¢˜å¹¶å°è¯•ä¿®å¤ã€‚

## ğŸ”§ ç«‹å³ä¿®å¤æ­¥éª¤

### æ­¥éª¤1ï¼šè¿è¡Œç´§æ€¥ä¿®å¤å‡½æ•°
åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œï¼š
```javascript
emergencyFixSillyTavernUI()
```

### æ­¥éª¤2ï¼šå¼ºåˆ¶åˆ·æ–°é¡µé¢
```
Ctrl+F5 (å¼ºåˆ¶åˆ·æ–°)
```

### æ­¥éª¤3ï¼šå¦‚æœé—®é¢˜æŒç»­ï¼Œç¦ç”¨æ’ä»¶
1. è¿›å…¥SillyTavernè®¾ç½®
2. æ‰¾åˆ°æ‰©å±•ç®¡ç†
3. ç¦ç”¨"è™šæ‹Ÿå® ç‰©"æ’ä»¶
4. åˆ·æ–°é¡µé¢

### æ­¥éª¤4ï¼šæ¸…é™¤æµè§ˆå™¨ç¼“å­˜
```
1. æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·
2. å³é”®åˆ·æ–°æŒ‰é’®
3. é€‰æ‹©"æ¸…ç©ºç¼“å­˜å¹¶ç¡¬æ€§é‡æ–°åŠ è½½"
```

## ğŸ›¡ï¸ é¢„é˜²æªæ–½

### ç°åœ¨çš„å®‰å…¨æœºåˆ¶ï¼š

1. **ä¸¥æ ¼çš„æ ·å¼éš”ç¦»**
   - åªå½±å“è™šæ‹Ÿå® ç‰©ç›¸å…³å…ƒç´ 
   - ä¸ä½¿ç”¨å…¨å±€é€‰æ‹©å™¨
   - ä¸å½±å“bodyæˆ–htmlå…ƒç´ 

2. **è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿ**
   - æ£€æµ‹SillyTavernå…³é”®å…ƒç´ 
   - è‡ªåŠ¨æ‰§è¡Œç´§æ€¥ä¿®å¤
   - æä¾›ç”¨æˆ·è­¦å‘Š

3. **ç´§æ€¥ä¿®å¤å‡½æ•°**
   - ç«‹å³ç§»é™¤æ‰€æœ‰è™šæ‹Ÿå® ç‰©æ ·å¼
   - é‡ç½®bodyå’Œhtmlæ ·å¼
   - å¼ºåˆ¶åˆ·æ–°é¡µé¢å¸ƒå±€

### ç¦æ­¢çš„CSSè§„åˆ™ï¼š
```css
/* âŒ ç»å¯¹ä¸èƒ½ä½¿ç”¨çš„å±é™©è§„åˆ™ */
body > div { ... }
html { ... }
* { ... }
body { position: relative !important; }
```

### å®‰å…¨çš„CSSè§„åˆ™ï¼š
```css
/* âœ… å®‰å…¨çš„è§„åˆ™ - åªå½±å“ç‰¹å®šå…ƒç´  */
#virtual-pet-floating-button { ... }
.virtual-pet-container { ... }
[id*="virtual-pet"] { ... }
```

## ğŸ“Š ä¿®å¤éªŒè¯

### æ£€æŸ¥SillyTavernæ˜¯å¦æ¢å¤ï¼š

1. **ä¸»ç•Œé¢å…ƒç´ **
   ```javascript
   console.log('èŠå¤©åŒºåŸŸ:', $('#chat').length > 0 ? 'å­˜åœ¨' : 'ç¼ºå¤±');
   console.log('è¾“å…¥æ¡†:', $('#send_textarea').length > 0 ? 'å­˜åœ¨' : 'ç¼ºå¤±');
   console.log('ä¾§è¾¹æ :', $('#left-nav-panel').length > 0 ? 'å­˜åœ¨' : 'ç¼ºå¤±');
   ```

2. **å¸ƒå±€æ£€æŸ¥**
   ```javascript
   console.log('Bodyæ˜¾ç¤º:', $('body').css('display'));
   console.log('Bodyä½ç½®:', $('body').css('position'));
   console.log('å­å…ƒç´ æ•°é‡:', $('body').children().length);
   ```

3. **æ ·å¼æ£€æŸ¥**
   ```javascript
   // æ£€æŸ¥æ˜¯å¦è¿˜æœ‰å±é™©æ ·å¼
   $('style').each(function() {
       const content = $(this).text();
       if (content.includes('body >') || content.includes('position: relative !important')) {
           console.log('âš ï¸ å‘ç°å±é™©æ ·å¼:', content.substring(0, 100));
       }
   });
   ```

## ğŸ¯ å¦‚æœé—®é¢˜æŒç»­

### å®Œå…¨ç§»é™¤è™šæ‹Ÿå® ç‰©ï¼š
```javascript
// å®Œå…¨æ¸…é™¤è™šæ‹Ÿå® ç‰©
$('[id*="virtual-pet"]').remove();
$('[class*="virtual-pet"]').remove();
$('style').each(function() {
    if ($(this).text().includes('virtual-pet')) {
        $(this).remove();
    }
});
```

### é‡ç½®é¡µé¢æ ·å¼ï¼š
```javascript
// é‡ç½®æ‰€æœ‰å¯èƒ½è¢«å½±å“çš„æ ·å¼
$('body, html').removeAttr('style');
$('body').css({
    'position': '',
    'overflow': '',
    'display': '',
    'visibility': '',
    'transform': '',
    'opacity': ''
});
```

### è”ç³»æ”¯æŒï¼š
å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½æ— æ•ˆï¼Œè¯·ï¼š
1. æˆªå›¾å½“å‰çŠ¶æ€
2. æä¾›æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
3. è¯´æ˜å…·ä½“çš„æ“ä½œæ­¥éª¤

## ğŸ‰ ä¿®å¤æ€»ç»“

æˆ‘å·²ç»ï¼š
- âœ… **ç§»é™¤äº†å±é™©çš„CSSè§„åˆ™**
- âœ… **å®æ–½äº†å®‰å…¨çš„æ ·å¼éš”ç¦»**
- âœ… **æ·»åŠ äº†ç´§æ€¥ä¿®å¤æœºåˆ¶**
- âœ… **æä¾›äº†è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿ**

ç°åœ¨è™šæ‹Ÿå® ç‰©æ’ä»¶åº”è¯¥ï¼š
- ğŸ›¡ï¸ **ä¸å½±å“SillyTavernä¸»ç•Œé¢**
- ğŸ›¡ï¸ **ä¸ç ´åä»»ä½•å¸ƒå±€**
- ğŸ›¡ï¸ **æœ‰å®Œæ•´çš„å®‰å…¨æœºåˆ¶**
- ğŸ›¡ï¸ **å¯ä»¥å®‰å…¨ä½¿ç”¨**

## ğŸš¨ ç«‹å³è¡ŒåŠ¨

**è¯·ç«‹å³è¿è¡Œï¼š**
```javascript
emergencyFixSillyTavernUI()
```

**ç„¶åæŒ‰ Ctrl+F5 å¼ºåˆ¶åˆ·æ–°é¡µé¢ï¼**

è¿™åº”è¯¥èƒ½ç«‹å³æ¢å¤SillyTavernçš„ç•Œé¢ã€‚å¦‚æœé—®é¢˜æŒç»­ï¼Œè¯·ç«‹å³ç¦ç”¨è™šæ‹Ÿå® ç‰©æ’ä»¶ï¼ğŸš¨
