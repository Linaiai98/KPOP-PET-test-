# ğŸ”¥ Firebase äº‘ç«¯å¤‡ä»½å¿«é€Ÿå¼€å§‹

## ğŸ“± ç®€åŒ–UIç•Œé¢

Firebaseäº‘ç«¯å¤‡ä»½ç°åœ¨ä½¿ç”¨æ›´ç®€æ´çš„ç•Œé¢ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½é›†ä¸­åœ¨ä¸€ä¸ªç´§å‡‘çš„åŒºåŸŸå†…ï¼š

```
â˜ï¸ äº‘ç«¯å¤‡ä»½
è·¨è®¾å¤‡åŒæ­¥å® ç‰©æ•°æ®ã€AIè®¾ç½®å’Œå¤´åƒ

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âšª æœªè¿æ¥              [ğŸ”— è¿æ¥]    â”‚
â”‚                                     â”‚
â”‚ [ğŸ”‘ ç”Ÿæˆè¿æ¥ç ] [â˜ï¸ å¤‡ä»½]          â”‚
â”‚                                     â”‚
â”‚ ğŸ”‘ è¿æ¥ç ï¼ˆåˆ†äº«ç»™å…¶ä»–è®¾å¤‡ï¼‰         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” [ğŸ“‹ å¤åˆ¶]           â”‚
â”‚ â”‚   ABC123    â”‚                     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚ â° æœ‰æ•ˆæœŸ5åˆ†é’Ÿï¼Œè¯·å°½å¿«ä½¿ç”¨          â”‚
â”‚                                     â”‚
â”‚ [è¾“å…¥è¿æ¥ç ] [è¿æ¥]                 â”‚
â”‚                                     â”‚
â”‚ [ğŸ“¥ æ¢å¤] [æ–­å¼€]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ ä½¿ç”¨æµç¨‹

### 1ï¸âƒ£ ä¸»è®¾å¤‡è®¾ç½®
1. ç‚¹å‡» **"ğŸ”— è¿æ¥"** æŒ‰é’®
2. ç­‰å¾…æ˜¾ç¤º **"ğŸŸ¢ å·²è¿æ¥"**
3. ç‚¹å‡» **"ğŸ”‘ ç”Ÿæˆè¿æ¥ç "** æŒ‰é’®
4. å¤åˆ¶æ˜¾ç¤ºçš„6ä½è¿æ¥ç ï¼ˆå¦‚ï¼šABC123ï¼‰
5. ç‚¹å‡» **"ğŸ“‹ å¤åˆ¶"** æŒ‰é’®å¤åˆ¶è¿æ¥ç 

### 2ï¸âƒ£ ä»è®¾å¤‡è¿æ¥
1. åœ¨å…¶ä»–è®¾å¤‡ä¸Šæ‰“å¼€ç›¸åŒç•Œé¢
2. åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥è¿æ¥ç 
3. ç‚¹å‡» **"è¿æ¥"** æŒ‰é’®
4. ç­‰å¾…æ•°æ®åŒæ­¥å®Œæˆ

### 3ï¸âƒ£ æ•°æ®ç®¡ç†
- **â˜ï¸ å¤‡ä»½**: æ‰‹åŠ¨å¤‡ä»½å½“å‰æ•°æ®åˆ°äº‘ç«¯
- **ğŸ“¥ æ¢å¤**: ä»äº‘ç«¯æ¢å¤æ•°æ®åˆ°æœ¬åœ°
- **æ–­å¼€**: æ–­å¼€äº‘ç«¯è¿æ¥

## ğŸ”§ Firebaseæ§åˆ¶å°é…ç½®

### âš ï¸ é‡è¦ï¼šå¿…é¡»é…ç½®å®‰å…¨è§„åˆ™

å¦‚æœé‡åˆ°æƒé™é”™è¯¯ï¼Œéœ€è¦åœ¨Firebaseæ§åˆ¶å°é…ç½®å®‰å…¨è§„åˆ™ï¼š

#### 1. Firestoreå®‰å…¨è§„åˆ™
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    match /connectionCodes/{codeId} {
      allow read, create: if request.auth != null;
      allow update: if request.auth != null && 
        (resource.data.userId == request.auth.uid || 
         request.auth.uid != resource.data.get('secondaryUserId', ''));
      allow delete: if request.auth != null && resource.data.userId == request.auth.uid;
    }
    
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
```

#### 2. Storageå®‰å…¨è§„åˆ™
```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /avatars/{userId}/{allPaths=**} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    match /{allPaths=**} {
      allow read, write: if false;
    }
  }
}
```

#### 3. å¯ç”¨åŒ¿åç™»å½•
1. Firebaseæ§åˆ¶å° â†’ Authentication â†’ Sign-in method
2. å¯ç”¨ **Anonymous** ç™»å½•æ–¹å¼

## ğŸ§ª æµ‹è¯•å·¥å…·

- **firebase-simple-test.html** - ç®€åŒ–UIæµ‹è¯•é¡µé¢
- **firebase-test.html** - å®Œæ•´åŠŸèƒ½æµ‹è¯•é¡µé¢

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: ç‚¹å‡»"è¿æ¥"æŒ‰é’®æ²¡æœ‰ååº”ï¼Ÿ**
A: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œç¡®ä¿èƒ½è®¿é—®GoogleæœåŠ¡ã€‚

**Q: æç¤ºæƒé™é”™è¯¯ï¼Ÿ**
A: éœ€è¦åœ¨Firebaseæ§åˆ¶å°é…ç½®ä¸Šè¿°å®‰å…¨è§„åˆ™ã€‚

**Q: è¿æ¥ç åœ¨å“ªé‡Œæ˜¾ç¤ºï¼Ÿ**
A: ç‚¹å‡»"ç”Ÿæˆè¿æ¥ç "åï¼Œä¼šåœ¨æŒ‰é’®ä¸‹æ–¹æ˜¾ç¤ºä¸€ä¸ªç»¿è‰²è¾¹æ¡†çš„è¾“å…¥æ¡†ï¼Œé‡Œé¢åŒ…å«6ä½è¿æ¥ç ã€‚

**Q: å¦‚ä½•å¤åˆ¶è¿æ¥ç ï¼Ÿ**
A: ç‚¹å‡»è¿æ¥ç æ—è¾¹çš„"ğŸ“‹ å¤åˆ¶"æŒ‰é’®ï¼Œæˆ–è€…ç›´æ¥é€‰æ‹©è¾“å…¥æ¡†ä¸­çš„æ–‡å­—å¤åˆ¶ã€‚

**Q: è¿æ¥ç å¤šé•¿æ—¶é—´æœ‰æ•ˆï¼Ÿ**
A: è¿æ¥ç æœ‰æ•ˆæœŸä¸º5åˆ†é’Ÿï¼Œè¿‡æœŸåéœ€è¦é‡æ–°ç”Ÿæˆã€‚

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

1. **é¦–æ¬¡ä½¿ç”¨**: å»ºè®®å…ˆåœ¨æµ‹è¯•é¡µé¢ç†Ÿæ‚‰ç•Œé¢å’Œæµç¨‹
2. **ç½‘ç»œç¯å¢ƒ**: åœ¨ä¸­å›½å¤§é™†å¯èƒ½éœ€è¦VPNæ‰èƒ½è®¿é—®FirebaseæœåŠ¡
3. **ç§»åŠ¨ç«¯**: å»ºè®®ä½¿ç”¨WiFiç½‘ç»œè¿›è¡Œæ•°æ®åŒæ­¥
4. **æ•°æ®å®‰å…¨**: è¿æ¥ç åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œä½¿ç”¨åè‡ªåŠ¨å¤±æ•ˆ

## ğŸ¯ ç•Œé¢ä½ç½®

Firebaseäº‘ç«¯å¤‡ä»½åŠŸèƒ½ä½äºï¼š
**SillyTavern â†’ æ‰©å±• â†’ è™šæ‹Ÿå® ç‰©ç³»ç»Ÿ â†’ â˜ï¸ äº‘ç«¯å¤‡ä»½**

ç°åœ¨ç•Œé¢æ›´åŠ ç®€æ´ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½åœ¨ä¸€ä¸ªç´§å‡‘çš„åŒºåŸŸå†…ï¼Œä½¿ç”¨èµ·æ¥æ›´åŠ ç›´è§‚ï¼ğŸš€
