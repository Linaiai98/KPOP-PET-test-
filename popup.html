<!-- 虚拟宠物系统弹窗 -->
<div id="virtual-pet-popup-overlay" class="virtual-pet-popup-overlay">
    <div id="virtual-pet-popup" class="pet-popup-container">
        <div class="pet-popup-header">
            <div class="pet-popup-title">🐾 虚拟宠物</div>
        </div>

        <div class="pet-popup-body">
            <!-- 主视图 -->
            <div id="pet-main-view" class="pet-view">
                <div class="pet-section">
                    <h3>🐾 我的宠物</h3>
                    
                    <div id="pet-status-container"><!-- 宠物状态将通过JavaScript动态渲染 --></div>
                    
                    <div class="pet-actions">
                        <button id="feed-pet-btn" class="pet-button success">🍖 喂食</button>
                        <button id="play-pet-btn" class="pet-button warning">🎾 玩耍</button>
                        <button id="sleep-pet-btn" class="pet-button">😴 休息</button>
                    </div>
                    
                    <div class="pet-nav-buttons">
                        <button id="goto-pet-detail-btn" class="pet-button">📊 详细信息</button>
                        <button id="goto-chat-btn" class="pet-button">💬 聊天</button>
                        <button id="goto-settings-btn" class="pet-button">⚙️ 设置</button>
                    </div>
                </div>
            </div>
            
            <!-- 宠物详情视图 (默认隐藏) -->
            <div id="pet-detail-view" class="pet-view" style="display: none;">
                <div class="pet-section">
                    <h3>📊 宠物详情</h3>
                    <div id="pet-detail-container">
                        <!-- 内容将由JS填充 -->
                    </div>
                    <div class="pet-nav-buttons">
                        <button class="pet-button back-to-main-btn">← 返回</button>
                    </div>
                </div>
            </div>
            
            <!-- 设置视图 (默认隐藏) -->
            <div id="pet-settings-view" class="pet-view" style="display: none;">
                <div class="pet-section">
                    <h3>⚙️ 设置</h3>
                    <div class="settings-container">
                        <div class="setting-item">
                            <label for="pet-name-input">宠物名称:</label>
                            <input type="text" id="pet-name-input" placeholder="输入宠物名称" maxlength="20">
                        </div>
                        <div class="setting-item">
                            <label for="pet-type-select">宠物类型:</label>
                            <select id="pet-type-select">
                                <option value="cat">🐱 猫咪</option>
                                <option value="dog">🐶 小狗</option>
                                <option value="dragon">🐉 龙</option>
                                <option value="rabbit">🐰 兔子</option>
                                <option value="bird">🐦 小鸟</option>
                            </select>
                        </div>
                        <div class="setting-actions">
                            <button id="save-settings-btn" class="pet-button success">💾 保存设置</button>
                            <button id="reset-pet-btn" class="pet-button danger">🔄 重置宠物</button>
                        </div>
                    </div>
                    <div class="pet-nav-buttons">
                        <button class="pet-button back-to-main-btn">← 返回</button>
                    </div>
                </div>
            </div>

            <!-- 聊天视图 (默认隐藏) -->
            <div id="pet-chat-view" class="pet-view" style="display: none;">
                <div class="pet-section">
                    <h3>💬 与 <span id="chat-pet-name"></span> 聊天</h3>
                    <div id="chat-messages-container" class="chat-messages-container"></div>
                    <div class="chat-input-container">
                        <textarea id="chat-user-input" placeholder="说点什么..."></textarea>
                        <button id="chat-send-btn" class="pet-button">发送</button>
                    </div>
                    <div class="pet-nav-buttons">
                        <button class="pet-button back-to-main-btn">← 返回</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>