<!-- 虚拟宠物系统设置面板 -->
<div id="virtual-pet-settings">
    <div class="inline-drawer">
        <div class="inline-drawer-toggle inline-drawer-header">
            <b>🐾 虚拟宠物系统</b>
            <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
        </div>
        <div class="inline-drawer-content">
            <div class="flex-container">
                <label class="checkbox_label" for="virtual-pet-enabled-toggle">
                    <input id="virtual-pet-enabled-toggle" type="checkbox" checked>
                    <span>启用虚拟宠物系统</span>
                </label>
            </div>
            <small class="notes">
                启用后会在屏幕上显示一个可拖动的宠物按钮（🐾），点击可以打开宠物管理界面。<br>
                你可以通过喂食、玩耍、休息等方式与虚拟宠物互动，宠物会随着时间成长升级。
            </small>
            
            <div class="flex-container" style="margin-top: 15px;">
                <div class="flex1">
                    <h4>插件信息</h4>
                    <p><strong>版本:</strong> 1.0.0</p>
                    <p><strong>作者:</strong> Augment Agent</p>
                    <p><strong>描述:</strong> 一个为SillyTavern设计的虚拟宠物系统</p>
                </div>
            </div>
            
            <div class="flex-container" style="margin-top: 15px;">
                <div class="flex1">
                    <h4>使用说明</h4>
                    <ul style="margin-left: 20px; color: var(--SmartThemeBodyColor);">
                        <li>点击屏幕上的🐾按钮打开宠物界面</li>
                        <li>使用"喂食"、"玩耍"、"休息"按钮与宠物互动</li>
                        <li>宠物状态会随时间自然变化，需要定期照顾</li>
                        <li>通过互动获得经验值，宠物会升级成长</li>
                        <li>在设置页面可以自定义宠物名称和类型</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase 云同步设置 -->
    <div class="inline-drawer">
        <div class="inline-drawer-toggle inline-drawer-header">
            <b>☁️ 云同步 (Firebase)</b>
            <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
        </div>
        <div class="inline-drawer-content">
            <p class="notes">
                使用云同步可以在不同设备间同步你的宠物数据。在一个设备上生成连接码，在另一个设备上输入即可。
            </p>
            <div id="firebase-sync-container">
                <div id="firebase-status-section">
                    <strong>同步状态:</strong> <span id="firebase-sync-status" style="font-weight: bold; color: #ffA500;">未连接</span>
                </div>

                <hr>

                <!-- 生成连接码 (主设备) -->
                <div id="firebase-generate-code-section">
                    <h4>在主设备上生成连接码</h4>
                    <button id="firebase-generate-code-btn" class="menu_button">生成连接码</button>
                    <div id="firebase-code-display" style="display: none; margin-top: 10px;">
                        <p>你的连接码是 (10分钟内有效):</p>
                        <strong id="firebase-connection-code" style="font-size: 1.5em; letter-spacing: 2px; color: var(--primary-accent-color);"></strong>
                    </div>
                </div>

                <hr>

                <!-- 输入连接码 (从设备) -->
                <div id="firebase-enter-code-section">
                    <h4>在新设备上输入连接码</h4>
                    <div class="flex-container">
                        <input type="text" id="firebase-code-input" placeholder="输入6位连接码" maxlength="6" class="text_pole">
                        <button id="firebase-connect-btn" class="menu_button">连接</button>
                    </div>
                </div>
                 <hr>
                <!-- 注销同步 -->
                <div id="firebase-disconnect-section" style="margin-top: 10px;">
                     <button id="firebase-disconnect-btn" class="menu_button danger">断开同步</button>
                     <p class="notes">断开同步后，此设备将不再与云端同步数据。</p>
                </div>
            </div>
        </div>
    </div>
</div>
