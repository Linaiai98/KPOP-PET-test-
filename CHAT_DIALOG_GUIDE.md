# 💬 虚拟宠物对话框系统使用指南

## 🎯 功能概述

虚拟宠物对话框是一个现代化的聊天界面，让你可以与虚拟宠物进行实时对话。它支持AI智能回复、快速操作和拖动功能。

## ✨ 主要特色

### 🎨 现代化设计
- 渐变色标题栏
- 消息气泡界面
- 糖果色主题风格
- 移动端适配

### 🤖 智能交互
- AI根据宠物人设回复
- 考虑宠物当前状态
- 支持自然语言对话
- 快速操作按钮

### 📱 用户体验
- 可拖动浮动窗口
- 最小化/关闭功能
- 回车键快速发送
- 实时状态显示

## 🚀 使用方法

### 1. 打开对话框

#### 方式一：通过主弹窗
1. 点击屏幕上的宠物按钮（🐾）
2. 在弹出的主界面中点击 **"💬 对话"** 按钮
3. 对话框将在屏幕中央打开

#### 方式二：直接调用
```javascript
// 在控制台中直接调用
showChatDialog();
```

### 2. 与宠物对话

#### 文字聊天
1. 在底部输入框中输入消息
2. 点击 **"📤"** 发送按钮或按回车键
3. 宠物会根据人设和状态智能回复

#### 快速操作
点击快速操作按钮进行互动：
- **🍎 喂食** - 给宠物喂食
- **🎮 玩耍** - 和宠物玩游戏
- **😴 睡觉** - 让宠物休息
- **🤗 拥抱** - 给宠物一个温暖的拥抱

### 3. 对话框管理

#### 移动位置
- 拖动标题栏可以移动对话框到任意位置
- 支持桌面端和移动端拖动

#### 最小化
- 点击标题栏的 **"−"** 按钮最小化对话框
- 最小化后只显示标题栏，节省屏幕空间

#### 关闭对话框
- 点击标题栏的 **"×"** 按钮关闭对话框

## 🎭 AI人设系统

对话框中的AI回复会根据当前选择的宠物人设来调整：

### 可选人设
- **🐱 默认** - 高冷但温柔的猫
- **🐶 活泼** - 热情洋溢的小狗  
- **🐉 优雅** - 古典文雅的龙
- **🐰 害羞** - 轻声细语的兔子
- **🐦 聪明** - 机智幽默的鸟

### 状态感知
AI会考虑宠物的当前状态：
- **健康值** - 影响活跃程度
- **快乐值** - 影响情绪表达
- **饥饿值** - 影响对食物的反应
- **精力值** - 影响互动积极性

## 🎨 界面元素说明

### 标题栏
```
🐾 我的宠物    在线    [−] [×]
```
- **宠物头像** - 显示当前宠物类型
- **宠物名称** - 可自定义的宠物名字
- **在线状态** - 显示连接状态
- **控制按钮** - 最小化和关闭

### 消息区域
- **系统消息** - 蓝色背景，显示欢迎信息
- **用户消息** - 右侧，蓝色气泡
- **宠物消息** - 左侧，白色气泡
- **时间戳** - 每条消息的发送时间

### 输入区域
- **文本输入框** - 圆角设计，支持最大500字符
- **发送按钮** - 圆形按钮，点击或回车发送
- **快速操作** - 四个常用互动按钮

## 📱 移动端优化

### 尺寸适配
- 对话框在移动端自动调整为 280×400px
- 按钮和文字大小针对触摸优化
- 输入框支持移动端键盘

### 触摸操作
- 支持触摸拖动
- 快速操作按钮触摸友好
- 滚动消息区域流畅

## 🔧 开发者接口

### 主要函数

#### 创建对话框
```javascript
createChatDialog()
```

#### 显示/隐藏对话框
```javascript
showChatDialog()    // 显示对话框
hideChatDialog()    // 隐藏对话框
```

#### 添加消息
```javascript
addChatMessage('user', '用户消息')
addChatMessage('pet', '宠物回复')
addChatMessage('system', '系统消息')
```

#### 处理快速操作
```javascript
handleQuickAction('feed')   // 喂食
handleQuickAction('play')   // 玩耍
handleQuickAction('sleep')  // 睡觉
handleQuickAction('hug')    // 拥抱
```

### 事件绑定
对话框会自动绑定以下事件：
- 发送按钮点击
- 回车键发送
- 快速操作按钮
- 拖动功能
- 最小化/关闭

## 🎯 使用技巧

### 💡 对话技巧
1. **自然交流** - 像和真实宠物聊天一样自然
2. **关注状态** - 根据宠物状态调整互动方式
3. **使用快速操作** - 快速满足宠物需求
4. **定期互动** - 保持宠物的快乐和健康

### 🔧 界面技巧
1. **拖动定位** - 将对话框放在方便的位置
2. **最小化使用** - 需要时最小化节省空间
3. **移动端优化** - 在手机上使用触摸操作
4. **多任务处理** - 对话框不会阻挡其他操作

## 🧪 测试和演示

### 演示页面
打开 `chat-dialog-demo.html` 可以体验完整的对话框功能：
- 界面预览
- 功能测试
- 交互演示

### 测试功能
```javascript
// 在控制台中测试
showChatDialog();                           // 显示对话框
addChatMessage('user', '测试消息');         // 添加测试消息
handleQuickAction('feed');                  // 测试快速操作
```

## 🎉 总结

虚拟宠物对话框系统为用户提供了一个直观、有趣的与虚拟宠物交流的方式。通过AI智能回复和快速操作，让虚拟宠物体验更加生动和互动。

现在你可以：
✅ 与宠物进行自然对话  
✅ 使用快速操作按钮  
✅ 拖动和管理对话框  
✅ 享受个性化的AI回复  

开始与你的虚拟宠物聊天吧！💬🐾
