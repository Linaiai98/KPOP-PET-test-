<!-- 虚拟宠物系统设置面板 -->
<div id="virtual-pet-settings">
    <div class="inline-drawer">
        <div class="inline-drawer-toggle inline-drawer-header">
            <b>🐾 虚拟宠物系统</b>
            <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
        </div>
        <div class="inline-drawer-content">
            <div class="flex-container">
                <label class="checkbox_label" for="virtual-pet-enabled-toggle">
                    <input id="virtual-pet-enabled-toggle" type="checkbox" checked>
                    <span>启用虚拟宠物系统</span>
                </label>
            </div>
            <small class="notes">
                启用后会在屏幕上显示一个可拖动的宠物按钮（🐾），点击可以打开宠物管理界面。<br>
                你可以通过喂食、玩耍、休息等方式与虚拟宠物互动，宠物会随着时间成长升级。
            </small>
            
            <div class="flex-container" style="margin-top: 15px;">
                <div class="flex1">
                    <h4>插件信息</h4>
                    <p><strong>版本:</strong> 1.0.0</p>
                    <p><strong>作者:</strong> Augment Agent</p>
                    <p><strong>描述:</strong> 一个为SillyTavern设计的虚拟宠物系统</p>
                </div>
            </div>
            
            <div class="flex-container" style="margin-top: 15px;">
                <div class="flex1">
                    <h4>使用说明</h4>
                    <ul style="margin-left: 20px; color: var(--SmartThemeBodyColor);">
                        <li>点击屏幕上的🐾按钮打开宠物界面</li>
                        <li>使用"喂食"、"玩耍"、"休息"按钮与宠物互动</li>
                        <li>宠物状态会随时间自然变化，需要定期照顾</li>
                        <li>通过互动获得经验值，宠物会升级成长</li>
                        <li>在设置页面可以自定义宠物名称和类型</li>
                    </ul>
                </div>
            </div>

            <!-- Firebase Cloud Sync Section -->
            <div id="firebase-sync-section">
                <h4>☁️ 云同步设置</h4>
                <div id="firebase-sync-status">
                    <span id="firebase-sync-status-dot" class="status-dot offline"></span>
                    <span id="firebase-sync-status-text">未启用 - 同步未激活</span>
                </div>
                <div id="sync-code-area" style="display: none; margin-top: 15px;">
                    <label>您的同步码:</label>
                    <input type="text" id="sync-code-display" readonly style="width: 100%; background-color: #f0f0f0; border: 1px solid #ccc; padding: 5px; margin-top: 5px;">
                    <small class="notes">这是您的匿名账户ID，可用于在不同设备间手动迁移数据。</small>
                </div>
                <div class="firebase-sync-actions" style="margin-top: 15px;">
                    <button id="firebase-login-btn" class="btn-primary">启用云同步</button>
                    <button id="firebase-get-code-btn" class="btn-secondary" style="display: none;">获取同步码</button>
                    <button id="firebase-logout-btn" class="btn-danger" style="display: none;">停用同步</button>
                </div>
                <small class="notes" style="margin-top: 10px;">
                    启用后，您的宠物数据将自动备份到云端。
                </small>
            </div>
        </div>
    </div>
</div>

<!-- Import Firebase and Auth Logic -->
<script type="module" src="firebase-auth.js"></script>
